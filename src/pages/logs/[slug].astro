---
import BlogPost from '../../layouts/logpost';
import { render } from 'astro:content';
import { getLog } from '../../utils/logs';
import { notFound } from '../../utils/redirect';

const log = await getLog(Astro.params.slug as string);

if (log === null) {
  return notFound();
}

const { Content, remarkPluginFrontmatter } = await render(log);
---

<BlogPost {...log} minuteRead={Math.ceil(remarkPluginFrontmatter.minuteRead)} lastModified={remarkPluginFrontmatter.lastModified}>
	<Content />
</BlogPost>
